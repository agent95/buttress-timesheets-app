<main class="main-scrollbar">

  <div class="screens_header position-fixed bg-theme1 h-70px zi-9 d-flex align-items-center w-100">
    <div class="container">
      <div class="row align-items-center position-relative position-relative zi-2">
        <!-- <div class="col-auto position-absolute start-0">
          <a href="javascript:;"><img class="w-32px" src="assets/img/back-btn.svg" alt="" (click)="rout()"></a>
        </div> -->
        <div class="col text-center">
          <h2 class="text-white fw-600 fs-18 mb-0">Confirm Tasks</h2>
        </div>
      </div>
    </div>
  </div>
  <div class="screens_scroll_part pt-5">
    <div class="container pt-5">
      <div class="row pt-2">
        <div class="col-12">
          <div class="row clock_in_box">
            <div class="col-6 mb-4">
              <strong class="text-theme2 fs-18">{{TodayDate | date:'EE MMM d'}}</strong>
            </div>
            <div class="pb-2"><label *ngIf="sitename"  class="" for=""><img src="assets/img/pin.svg" alt=""> {{sitename}}</label></div>
            <div class="col-6 my-4">
              <span>Start</span>
              <div class="bg-light p-3 rounded-8 border border-2 text-center">
                <span class="fw-500 fs-24 d-block"> {{clockin | date:'mediumTime'}}</span>
              </div>
            </div>
            <div class="col-6 my-4">
              <span>Stop</span>
              <div class="bg-light p-3 rounded-8 border border-2 text-center">
                <span class="fw-500 fs-24 d-block">{{clockoutvar | date:'mediumTime'}}</span>
              </div>
            </div>
            <div class="col-12 mb-4">
              <span>Total</span>
              <div class="bg-light p-3 rounded-8 border border-2 text-center">
                <div>
                  <div class="text-end">
                    <span class="fw-500 fs-24 d-block">{{totalHRS}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12">
          <div>
            Task Summary
          </div>
          <div class="rounded-10 border border-2 bg-light p-3 py-1  mb-4">
            <div *ngFor="let task of taskSummary; let isLast = last" class="py-2" [class.border-bottom]="!isLast">
              <div>
                <div class="row">
                  <div class="col-10">{{task.tradeCategory}}</div>
                  <div class="col-2 text-end"><button class=" col btn btn-link p-0 text-end">Edit</button></div>
                </div>
                  
             
                <div class="row">
                  <div *ngIf="task.taskDescription" class="col-9">{{task.taskDescription}}</div>
                  <div class="col-3 text-end fs-20 fw-semi-bold ">
                    <div>{{task.taskTime}}</div>
                  </div>
                </div>
              </div>
            </div>

            
          </div>

          <!-- Unallocated Time -->

          <div>
            Unallocated Time 
            <div class="bg-light p-3 rounded-8 border border-2">
              <span class="fw-500 fs-24 d-block text-danger text-end">00:20</span>
            </div>
          </div>


          <!-- Add Task -->
          <div class="col-12 my-4 ">
            <div class="bg-white rounded-10 border border-1">
              <div class="row mx-0">
                <div class="col-12 py-4 border-bottom">
                  <span class="text-theme2 fs-20 fw-500">Add Task</span>
                </div>
                <form class="py-4" [formGroup]="addTaskForm">

                  <div class="form-group row position-relative text-start mb-3">
                    <label class="fw-600 fs-16  mb-1"> Trade Category
                    <select class="form-control shadow-none mt-2 px-3 col-12" formControlName="tradeCategory" name="tradeCagtegory"
                      id="tradeCategory" required>
                        <option value="i" value="0">Please Select</option>
                        <option *ngFor="let trade of tradeCategories; let i=index" value="{{trade.tradeName}}">{{trade.tradeName}}</option>
                    </select>
                    </label>
                  </div>

                  <div class="form-group position-relative text-start mb-3">
                    <label class="fw-600 fs-16 mb-1" for="">Description</label>
                    <textarea class="form-control shadow-none fs-18" formControlName="taskDescription" name="taskDescription"
                      id="taskDescription"></textarea>
                  </div>

                  <div class="form-group position-relative text-start mb-3">
                    <label class="row fw-600 fs-16 mb-1" for="">
                      <span class="col-9 text-start">Time</span>
                      <span class="col-3 text-end text-black-50">h:mm:ss</span>
                     </label>
                    <input class="form-control shadow-none p-2 fs-26 text-end" formControlName="taskTime" name="taskTime"
                      id="taskTime"/>
                  </div>

                  <div class="form-group position-relative mt-2 row justify-content-end pt-4">
                    <div class="col-auto">
                        <button (click)="addtask()" class="btn btn-lg btn-outline-primary d-inline-flex w-auto">Add Task</button>
                      </div>
                    </div>
                </form>
              </div>
            </div>
          </div>
          <!-- // Add Task -->


          <form class="" action="" [formGroup]="clockOutForm">
            <div class="form-group position-relative text-start mb-4">
              <!-- <label class="fw-600 fs-16 d-flex mb-2" for="message">Note</label> -->
              <!-- <textarea class="form-control shadow-none"  name="message" id="message" formControlName="mess"></textarea> -->
            </div>
            <div class="form-group position-relative text-center my-5 py-4">
              <div class="row mx-0">
                <div class="col-6">
                  <!-- <a href="javascript:;" data-bs-toggle="modal" data-bs-target="#exampleModal1"
                    class="button_screens rounded-8 fs-16"(click)="patchMessage()"><img src="assets/img/edit.svg" alt="">Edit</a> -->
                </div>
                <div class="col-6">
                  <button type="button"  (click)="confirmTime()"
                    class="button_screens rounded-8 fs-16"><img src="assets/img/tick.svg" alt="">Save</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <app-footer activeTab="clock"></app-footer>

</main>

<!-- Modal -->
<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-20">
      <div class="modal-header text-center position-relative py-4">
        <h5 class="modal-title text-center fs-18 fw-bold text-theme2 w-100" id="exampleModalLabel">Edit Site</h5>
        <button type="button" class="btn-close fs-14 text-theme2 fw-600 position-absolute start-10px"
          data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body py-0">
        <div class="row">
          <div class="col-12">
            <div class="row py-3 border-bottom">
              <div class="col-6">
                <span class="fs-16 text-theme2 fw-600">Site:</span>
              </div>
              <div class="col-6 text-end">
                <span class="fs-16 text-theme2 fw-600">{{sitename}}</span>
              </div>
            </div>
            <div class="row py-3 border-bottom">
              <div class="col-3">
                <span class="fs-16 text-theme2 fw-600">Start:</span>
              </div>
              <div class="col">
                <span class="fs-16 text-theme2 fw-600">{{clockin | date: 'MMM d/y'}}</span>
              </div>
              <div class="col-3 text-end">
                <span class="fs-16 text-theme2 fw-600">{{clockin | date: 'h:mm'}}</span>
              </div>
            </div>
            <div class="row py-3 border-bottom">
              <div class="col-3">
                <span class="fs-16 text-theme2 fw-600">End: </span>
              </div>
              <div class="col">
                <span class="fs-16 text-theme2 fw-600">{{clockoutvar | date : 'MMM d/y' }}</span>
              </div>
              <div class="col-3 text-end">
                <span class="fs-16 text-theme2 fw-600">{{clockoutvar | date: 'h:mm'}}</span>
              </div>
            </div>
            <div class="row py-4">
              <div class="col-6">
                <span class="fs-16 text-theme2 fw-600">Total Hours</span>
              </div>
              <div class="col-6 text-end">
                <span class="fs-16 text-theme2 fw-600">{{totalHRS}}</span>
              </div>
            </div>
            <form class="row" action="" [formGroup]="noteForm">
              <div class="form-group position-relative text-start mb-4">
                <label class="fw-600 fs-16 d-flex mb-2" for="message">Add Note</label>
                <textarea class="form-control shadow-none h-90px" name="message" id="message"
                  formControlName="message"></textarea>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="modal-footer border-0 py-3">
        <div class="row mx-0 w-100">
          <div class="col-6">
            <button type="button" class="button_screens rounded-8 fs-15" data-bs-dismiss="modal">Cancel</button>
          </div>
          <div class="col-6">
            <button type="button" (click)="saveNote()"data-bs-dismiss="modal" class="button_screens rounded-8 fs-15">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content rounded-20">
        <div class="modal-header text-center position-relative py-4">
          <h5 class="modal-title text-center fs-18 fw-bold text-theme2 w-100" id="exampleModalLabel">Add Site</h5>
          <button type="button" class="btn-close fs-14 text-theme2 fw-600 position-absolute start-10px"
            data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body py-0">
          <div class="row">
            <div class="col-12">
              <div class="row py-3 border-bottom">
                <div class="col-6">
                  <span class="fs-16 text-theme2 fw-600">Site:</span>
                </div>
                <div class="col-6 text-end">
                  <span class="fs-16 text-theme2 fw-600">Site 3</span>
                </div>
              </div>
              <div class="row py-3 border-bottom">
                <div class="col-6">
                  <span class="fs-16 text-theme2 fw-600">Start:</span>
                </div>
                <div class="col-6 text-end">
                  <span class="fs-16 text-theme2 fw-600">Aug 19 / 9:00</span>
                </div>
              </div>
              <div class="row py-3 border-bottom">
                <div class="col-6">
                  <span class="fs-16 text-theme2 fw-600">End:</span>
                </div>
                <div class="col-6 text-end">
                  <span class="fs-16 text-theme2 fw-600">Aug 19 / 17:00</span>
                </div>
              </div>
              <div class="row py-4">
                <div class="col-6">
                  <span class="fs-16 text-theme2 fw-600">Total Hours</span>
                </div>
  
                <div class="col-6 text-end">
                  <span class="fs-16 text-theme2 fw-600">8 : 00</span>
                </div>
              </div>
              <form class="row" action="">
                <div class="form-group position-relative text-start mb-4">
                  <label class="fw-600 fs-16 d-flex mb-2" for="message">Add Note</label>
                  <textarea class="form-control shadow-none h-90px" name="message" id="message"></textarea>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="modal-footer border-0 py-3">
          <div class="row mx-0 w-100">
            <div class="col-6">
              <button type="button" class="button_screens rounded-8 fs-15" data-bs-dismiss="modal">Cancel</button>
            </div>
            <div class="col-6">
              <button type="button" class="button_screens rounded-8 fs-15">Save</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->